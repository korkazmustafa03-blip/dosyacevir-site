<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9276496698729786"
     crossorigin="anonymous"></script>

    <link rel="icon" type="image/png" href="favicon.png">

    <title>dosyacevir.com.tr | PDF, Resim ve Dijital Ara√ßlar Merkezi</title>
    <meta name="description" content="dosyacevir.com.tr ile PDF birle≈ütirme, HEIC √ßevirme, QR kod olu≈üturma ve ≈üifre √ºretme i≈ülemlerini √ºcretsiz ve g√ºvenli yapƒ±n.">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/heic2any/0.0.4/heic2any.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>

    <style>
        :root {
            --bg-body: #0f172a;
            --sidebar-bg: #1e1b4b; 
            --content-bg: #f8fafc;
            --primary: #6366f1;    
            --primary-hover: #4f46e5;
            --accent: #d946ef;     
            --text-light: #e2e8f0;
            --text-dark: #1e293b;
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Inter', 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-body);
            color: var(--text-dark);
            height: 100vh;
            display: flex;
            overflow: hidden; 
        }

        /* SIDEBAR */
        .sidebar {
            width: 280px;
            background: var(--sidebar-bg);
            color: var(--text-light);
            display: flex;
            flex-direction: column;
            border-right: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .logo-area {
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(0,0,0,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .logo-area i { font-size: 1.8rem; color: var(--accent); }
        .brand-name { font-size: 1.3rem; font-weight: 800; letter-spacing: -0.5px; color: white; }

        .menu-items { flex: 1; padding: 20px 10px; overflow-y: auto; }
        .menu-category { font-size: 0.75rem; text-transform: uppercase; color: #6366f1; margin: 15px 15px 5px; font-weight: 700; }
        
        .menu-btn {
            display: flex; align-items: center; gap: 12px; width: 100%; padding: 12px 15px;
            background: none; border: none; color: #cbd5e1; text-align: left; cursor: pointer;
            border-radius: 8px; font-size: 0.95rem; transition: all 0.2s;
        }
        .menu-btn:hover { background: rgba(255,255,255,0.1); color: white; }
        .menu-btn.active { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4); }
        .menu-btn i { width: 20px; text-align: center; }

        .sidebar-ad { padding: 20px; background: rgba(0,0,0,0.3); text-align: center; font-size: 0.8rem; color: #64748b; }

        /* MAIN CONTENT */
        .main-content { flex: 1; background: #f1f5f9; overflow-y: auto; position: relative; display: flex; flex-direction: column; }

        .top-bar {
            background: white; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 90;
        }
        .page-title { font-size: 1.2rem; font-weight: 700; color: var(--sidebar-bg); }
        .header-actions button {
            background: transparent; border: 1px solid #e2e8f0; padding: 8px 15px; border-radius: 6px; cursor: pointer; color: #475569; font-weight: 600;
        }

        .content-area { padding: 30px; max-width: 1200px; margin: 0 auto; width: 100%; flex: 1; }

        /* CARDS */
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        .tool-card-box {
            background: white; border-radius: 16px; padding: 25px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s; cursor: pointer; border: 1px solid #e2e8f0; position: relative; overflow: hidden;
        }
        .tool-card-box:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); border-color: var(--primary); }
        .tool-card-box::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: var(--primary); opacity: 0; transition: 0.3s; }
        .tool-card-box:hover::before { opacity: 1; }
        
        .card-icon {
            width: 50px; height: 50px; background: #e0e7ff; color: var(--primary); border-radius: 12px;
            display: flex; align-items: center; justify-content: center; font-size: 1.5rem; margin-bottom: 20px;
        }
        .card-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 8px; color: var(--sidebar-bg); }
        .card-desc { font-size: 0.9rem; color: #64748b; line-height: 1.5; }

        /* WORKSPACE */
        .workspace-view { display: none; animation: fadeIn 0.3s ease; }
        .workspace-view.active { display: block; }
        .tool-panel { background: white; border-radius: 20px; padding: 40px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05); text-align: center; max-width: 800px; margin: 0 auto; }

        .drop-zone { border: 2px dashed #cbd5e1; border-radius: 12px; padding: 40px; background: #f8fafc; cursor: pointer; transition: 0.3s; margin: 20px 0; }
        .drop-zone:hover { border-color: var(--primary); background: #eef2ff; }
        
        .primary-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; border: none; padding: 15px 40px; border-radius: 10px;
            font-size: 1rem; font-weight: 600; cursor: pointer; transition: 0.3s; box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3); width: 100%;
        }
        .primary-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4); }

        /* MODAL */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 200;
            display: none; justify-content: center; align-items: center; backdrop-filter: blur(5px);
        }
        .modal-box { background: white; padding: 30px; border-radius: 16px; max-width: 500px; width: 90%; position: relative; animation: slideUp 0.3s; }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 1.5rem; cursor: pointer; color: #94a3b8; }

        @media (max-width: 768px) {
            .sidebar { position: fixed; left: -280px; height: 100%; }
            .sidebar.active { left: 0; }
            .menu-toggle { display: block !important; }
        }
        .menu-toggle { display: none; font-size: 1.5rem; cursor: pointer; color: var(--sidebar-bg); }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* INPUTS */
        .input-group { margin-bottom: 20px; text-align: left; }
        .input-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #475569; }
        .input-field { width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 8px; font-size: 1rem; }
        .result-box { margin-top: 20px; padding: 15px; background: #f1f5f9; border-radius: 8px; word-break: break-all; font-family: monospace; }
    </style>
</head>
<body>

    <div id="aboutModal" class="modal-overlay">
        <div class="modal-box">
            <span class="close-modal" onclick="toggleModal(false)">&times;</span>
            <h2 style="color: var(--primary);">Hakkƒ±nda</h2>
            <p><strong>dosyacevir.com.tr</strong>, kullanƒ±cƒ±larƒ±n g√ºnl√ºk dijital ihtiya√ßlarƒ±nƒ± en hƒ±zlƒ± ve g√ºvenli ≈üekilde kar≈üƒ±lamak i√ßin tasarlanmƒ±≈ü modern bir web platformudur.</p>
            <p>Veri gizliliƒüine √∂nem veriyoruz. Yaptƒ±ƒüƒ±nƒ±z i≈ülemler tamamen <strong>tarayƒ±cƒ±nƒ±zda ger√ßekle≈üir</strong> ve sunucularƒ±mƒ±za veri g√∂nderilmez.</p>
            <p style="margin-top: 20px; font-size: 0.9rem; color: #64748b;">&copy; 2025 dosyacevir.com.tr T√ºm Haklarƒ± Saklƒ±dƒ±r.</p>
        </div>
    </div>

    <aside class="sidebar" id="sidebar">
        <div class="logo-area">
            <i class="fa-solid fa-layer-group"></i>
            <span class="brand-name">dosyacevir<span style="color:var(--accent)">.com.tr</span></span>
        </div>

        <div class="menu-items">
            <div class="menu-category">Genel</div>
            <button class="menu-btn active" onclick="showDashboard()"><i class="fa-solid fa-house"></i> Ana Panel</button>

            <div class="menu-category">Dosya Ara√ßlarƒ±</div>
            <button class="menu-btn" onclick="openTool('img-converter')"><i class="fa-regular fa-image"></i> G√∂rsel √áevirici</button>
            <button class="menu-btn" onclick="openTool('img-to-pdf')"><i class="fa-regular fa-file-pdf"></i> Resimden PDF</button>
            <button class="menu-btn" onclick="openTool('pdf-to-img')"><i class="fa-solid fa-camera"></i> PDF'den Resme</button>
            <button class="menu-btn" onclick="openTool('pdf-merge')"><i class="fa-solid fa-link"></i> PDF Birle≈ütir</button>
            <button class="menu-btn" onclick="openTool('word-to-pdf')"><i class="fa-regular fa-file-word"></i> Word to PDF</button>

            <div class="menu-category">Dijital Ara√ßlar</div>
            <button class="menu-btn" onclick="openTool('qr-gen')"><i class="fa-solid fa-qrcode"></i> QR Kod Olu≈ütur</button>
            <button class="menu-btn" onclick="openTool('pass-gen')"><i class="fa-solid fa-key"></i> ≈ûifre √úretici</button>
            <button class="menu-btn" onclick="openTool('text-tool')"><i class="fa-solid fa-font"></i> Metin Aracƒ±</button>
        </div>

        <div class="sidebar-ad">
            <div style="background:#333; padding:10px; border-radius:8px;">
                <small>Reklam Alanƒ±</small>
            </div>
        </div>
    </aside>

    <main class="main-content">
        <header class="top-bar">
            <div style="display:flex; align-items:center; gap:15px;">
                <i class="fa-solid fa-bars menu-toggle" onclick="toggleSidebar()"></i>
                <span class="page-title" id="pageTitle">Ana Panel</span>
            </div>
            <div class="header-actions">
                <button onclick="toggleModal(true)"><i class="fa-regular fa-circle-question"></i> Hakkƒ±nda</button>
            </div>
        </header>

        <div class="content-area">
            <div style="width:100%; height:90px; background:#e2e8f0; margin-bottom:30px; display:flex; align-items:center; justify-content:center; border-radius:8px; border:1px dashed #cbd5e1;">
                <span style="color:#94a3b8">Google Adsense Banner Alanƒ±</span>
            </div>

            <div id="dashboard-view" class="workspace-view active">
                <div style="margin-bottom: 40px;">
                    <h1 style="color:var(--sidebar-bg); margin-bottom:10px;">Ho≈ü Geldiniz üëã</h1>
                    <p style="color:#64748b;">dosyacevir.com.tr ile t√ºm dijital i≈ülemleriniz i√ßin profesyonel, √ºcretsiz ve g√ºvenli ara√ßlar.</p>
                </div>

                <div class="dashboard-grid">
                    <div class="tool-card-box" onclick="openTool('img-converter')">
                        <div class="card-icon"><i class="fa-regular fa-image"></i></div>
                        <div class="card-title">G√∂rsel D√∂n√º≈üt√ºr√ºc√º</div>
                        <div class="card-desc">HEIC, WEBP, PNG fotoƒüraflarƒ± saniyeler i√ßinde JPG formatƒ±na √ßevirin.</div>
                    </div>
                    <div class="tool-card-box" onclick="openTool('img-to-pdf')">
                        <div class="card-icon"><i class="fa-regular fa-file-pdf"></i></div>
                        <div class="card-title">Resimden PDF'e</div>
                        <div class="card-desc">Ders notlarƒ±nƒ± veya belgeleri tek bir PDF dosyasƒ±nda birle≈ütirin.</div>
                    </div>
                    <div class="tool-card-box" onclick="openTool('qr-gen')">
                        <div class="card-icon"><i class="fa-solid fa-qrcode"></i></div>
                        <div class="card-title">QR Kod Olu≈üturucu</div>
                        <div class="card-desc">Web siteleri veya metinler i√ßin anƒ±nda QR kod √ºretin ve indirin.</div>
                    </div>
                    <div class="tool-card-box" onclick="openTool('pass-gen')">
                        <div class="card-icon"><i class="fa-solid fa-shield-halved"></i></div>
                        <div class="card-title">G√º√ßl√º ≈ûifre √úretici</div>
                        <div class="card-desc">Hesaplarƒ±nƒ±z i√ßin kƒ±rƒ±lmasƒ± zor, rastgele ≈üifreler olu≈üturun.</div>
                    </div>
                    <div class="tool-card-box" onclick="openTool('pdf-merge')">
                        <div class="card-icon"><i class="fa-solid fa-link"></i></div>
                        <div class="card-title">PDF Birle≈ütir</div>
                        <div class="card-desc">Sƒ±nƒ±rsƒ±z sayƒ±da PDF dosyasƒ±nƒ± tek dosyada bir araya getirin.</div>
                    </div>
                    <div class="tool-card-box" onclick="openTool('text-tool')">
                        <div class="card-icon"><i class="fa-solid fa-font"></i></div>
                        <div class="card-title">Metin Analiz Aracƒ±</div>
                        <div class="card-desc">Kelime sayma, B√úY√úK/k√º√ß√ºk harf d√∂n√º≈üt√ºrme i≈ülemleri.</div>
                    </div>
                </div>

                <div style="margin-top:50px; padding:30px; background:white; border-radius:16px; border:1px solid #e2e8f0;">
                    <h2 style="color:var(--sidebar-bg)">Neden dosyacevir.com.tr?</h2>
                    <p style="color:#64748b; line-height:1.6;">
                        dosyacevir.com.tr, modern web teknolojilerini kullanarak dosyalarƒ±nƒ±zƒ± sunucuya y√ºklemeden tarayƒ±cƒ±nƒ±zda i≈üler. 
                        Bu sayede verileriniz %100 g√ºvende kalƒ±r ve i≈ülemler √ßok daha hƒ±zlƒ± ger√ßekle≈üir. ƒ∞ster √∂ƒürenci olun ister profesyonel, 
                        PDF ara√ßlarƒ±ndan QR kod olu≈üturmaya kadar ihtiyacƒ±nƒ±z olan her ≈üey tek panelde.
                    </p>
                </div>
            </div>

            <div id="tool-workspace" class="workspace-view">
                <button onclick="showDashboard()" style="background:none; border:none; color:#64748b; cursor:pointer; margin-bottom:20px; font-weight:600;">‚Üê Panele D√∂n</button>
                
                <div class="tool-panel">
                    <h2 id="ws-title" style="color:var(--sidebar-bg); margin-bottom:10px;">Ara√ß Ba≈ülƒ±ƒüƒ±</h2>
                    <p id="ws-desc" style="color:#64748b; margin-bottom:30px;">A√ßƒ±klama</p>

                    <div id="file-interface" style="display:none;">
                        <div class="drop-zone" id="dropZone">
                            <i class="fa-solid fa-cloud-arrow-up" style="font-size:3rem; color:var(--primary); margin-bottom:15px;"></i>
                            <p id="dropText" style="margin:0; font-weight:500; color:#475569;">Dosyalarƒ± buraya s√ºr√ºkleyin veya tƒ±klayƒ±n</p>
                            <input type="file" id="fileInput" hidden multiple>
                        </div>
                        <div id="dynamic-controls" style="margin-bottom:20px; text-align:left;"></div>
                        <div id="statusText" style="margin:15px 0; color:var(--primary); font-weight:600;"></div>
                        <button class="primary-btn" id="actionBtn" onclick="runFileTool()">ƒ∞≈ülemi Ba≈ülat</button>
                    </div>

                    <div id="qr-interface" style="display:none; text-align:left; max-width:400px; margin:0 auto;">
                        <div class="input-group">
                            <label>QR Koda √áevrilecek Metin/Link:</label>
                            <input type="text" id="qrText" class="input-field" placeholder="https://ornek.com">
                        </div>
                        <button class="primary-btn" onclick="generateQR()">QR Olu≈ütur</button>
                        <div id="qrResult" style="margin-top:30px; display:flex; justify-content:center;"></div>
                    </div>

                    <div id="pass-interface" style="display:none; text-align:left; max-width:500px; margin:0 auto;">
                        <div class="input-group">
                            <label>≈ûifre Uzunluƒüu: <span id="lenVal">12</span></label>
                            <input type="range" id="passLen" min="6" max="32" value="12" style="width:100%" oninput="document.getElementById('lenVal').innerText=this.value">
                        </div>
                        <div style="margin-bottom:20px;">
                            <label><input type="checkbox" id="incSym" checked> Semboller (!@#$)</label> &nbsp;
                            <label><input type="checkbox" id="incNum" checked> Rakamlar (123)</label>
                        </div>
                        <button class="primary-btn" onclick="generatePass()">≈ûifre √úret</button>
                        <div class="result-box" id="passResult" onclick="copyText(this.innerText)" style="cursor:pointer; text-align:center; font-size:1.2rem;">≈ûifre burada g√∂r√ºnecek...</div>
                    </div>

                    <div id="text-interface" style="display:none; text-align:left;">
                        <textarea id="textContent" class="input-field" rows="6" placeholder="Metni buraya yapƒ±≈ütƒ±rƒ±n..." oninput="analyzeText()"></textarea>
                        <div style="margin-top:10px; display:flex; gap:10px;">
                            <button class="primary-btn" onclick="textCase('upper')" style="padding:10px;">HEPSƒ∞ B√úY√úK</button>
                            <button class="primary-btn" onclick="textCase('lower')" style="padding:10px;">hepsi k√º√ß√ºk</button>
                        </div>
                        <div class="result-box" id="textStats">Karakter: 0 | Kelime: 0</div>
                    </div>
                </div>
            </div>

            <footer style="margin-top:50px; padding:20px; text-align:center; color:#94a3b8; font-size:0.9rem; border-top:1px solid #e2e8f0;">
                <p>&copy; 2025 dosyacevir.com.tr | G√ºvenli & Tarayƒ±cƒ± Tabanlƒ±.</p>
                <div style="display:flex; justify-content:center; gap:20px; margin-top:10px;">
                    <a href="gizlilik-politikasi.html" style="color:var(--primary); text-decoration:none;">Gizlilik</a>
                    <a href="kullanim-sartlari.html" style="color:var(--primary); text-decoration:none;">≈ûartlar</a>
                    <a href="iletisim.html" style="color:var(--primary); text-decoration:none;">ƒ∞leti≈üim</a>
                </div>
            </footer>
        </div>
    </main>

    <script>
        let currentToolId = '', selectedFiles = [];
        const fileInput = document.getElementById('fileInput'), dropZone = document.getElementById('dropZone');

        function showDashboard() {
            document.getElementById('dashboard-view').style.display = 'block';
            document.getElementById('tool-workspace').style.display = 'none';
            document.getElementById('pageTitle').innerText = 'Ana Panel';
            document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));
            document.querySelector('.menu-btn[onclick="showDashboard()"]').classList.add('active');
        }

        function openTool(toolId) {
            currentToolId = toolId;
            document.getElementById('dashboard-view').style.display = 'none';
            document.getElementById('tool-workspace').style.display = 'block';
            document.getElementById('file-interface').style.display = 'none';
            document.getElementById('qr-interface').style.display = 'none';
            document.getElementById('pass-interface').style.display = 'none';
            document.getElementById('text-interface').style.display = 'none';
            document.getElementById('dynamic-controls').innerHTML = '';
            document.getElementById('statusText').innerText = '';
            selectedFiles = [];

            const titleEl = document.getElementById('ws-title'), descEl = document.getElementById('ws-desc'), pageTitle = document.getElementById('pageTitle');

            if(toolId === 'img-converter') {
                titleEl.innerText = "G√∂rsel Format D√∂n√º≈üt√ºr√ºc√º"; descEl.innerText = "HEIC, WEBP veya PNG dosyalarƒ±nƒ± JPG'e √ßevirin.";
                document.getElementById('file-interface').style.display = 'block'; fileInput.accept = "image/png, image/jpeg, image/webp, .heic, .heif";
                document.getElementById('dynamic-controls').innerHTML = `<label>Hedef Format:</label><select id="formatSelect" class="input-field"><option value="image/jpeg">JPG</option><option value="image/png">PNG</option></select>`;
            } else if(toolId === 'img-to-pdf') {
                titleEl.innerText = "Resimden PDF Yap"; descEl.innerText = "Birden fazla resmi se√ßin, tek PDF olsun.";
                document.getElementById('file-interface').style.display = 'block'; fileInput.accept = "image/*";
            } else if(toolId === 'pdf-to-img') {
                titleEl.innerText = "PDF'den Resim Ayƒ±kla"; descEl.innerText = "PDF sayfalarƒ±nƒ± JPG olarak indir.";
                document.getElementById('file-interface').style.display = 'block'; fileInput.accept = ".pdf"; fileInput.removeAttribute('multiple');
            } else if(toolId === 'pdf-merge') {
                titleEl.innerText = "PDF Birle≈ütirici"; descEl.innerText = "Sƒ±rayla PDF dosyalarƒ±nƒ± se√ßin.";
                document.getElementById('file-interface').style.display = 'block'; fileInput.accept = ".pdf";
            } else if(toolId === 'word-to-pdf') {
                titleEl.innerText = "Word'den PDF'e"; descEl.innerText = "DOCX dosyasƒ±nƒ± basit PDF'e √ßevirir.";
                document.getElementById('file-interface').style.display = 'block'; fileInput.accept = ".docx"; fileInput.removeAttribute('multiple');
            } else if(toolId === 'qr-gen') {
                titleEl.innerText = "QR Kod Olu≈üturucu"; descEl.innerText = "Linki gir, QR kodu al.";
                document.getElementById('qr-interface').style.display = 'block';
            } else if(toolId === 'pass-gen') {
                titleEl.innerText = "G√ºvenli ≈ûifre Olu≈üturucu"; descEl.innerText = "Tarayƒ±cƒ±nƒ±zda rastgele ≈üifre √ºretin.";
                document.getElementById('pass-interface').style.display = 'block';
            } else if(toolId === 'text-tool') {
                titleEl.innerText = "Metin Analiz Aracƒ±"; descEl.innerText = "Karakter sayma ve d√∂n√º≈üt√ºrme.";
                document.getElementById('text-interface').style.display = 'block';
            }
            pageTitle.innerText = titleEl.innerText;
        }

        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('active'); }
        function toggleModal(show) { document.getElementById('aboutModal').style.display = show ? 'flex' : 'none'; }

        dropZone.onclick = () => fileInput.click();
        dropZone.ondragover = (e) => { e.preventDefault(); dropZone.style.backgroundColor = '#eef2ff'; };
        dropZone.ondragleave = () => { dropZone.style.backgroundColor = '#f8fafc'; };
        dropZone.ondrop = (e) => { e.preventDefault(); dropZone.style.backgroundColor = '#f8fafc'; handleFiles(e.dataTransfer.files); };
        fileInput.onchange = (e) => handleFiles(e.target.files);

        function handleFiles(files) {
            if (files.length > 0) { selectedFiles = Array.from(files); document.getElementById('statusText').innerText = `‚úÖ ${selectedFiles.length} dosya se√ßildi.`; }
        }

        async function runFileTool() {
            if (selectedFiles.length === 0) { alert("L√ºtfen dosya se√ßin."); return; }
            const btn = document.getElementById('actionBtn'), status = document.getElementById('statusText');
            btn.disabled = true; btn.innerText = "ƒ∞≈üleniyor..."; status.innerText = "ƒ∞≈ülem ba≈üladƒ±, l√ºtfen bekleyin...";

            try {
                const zip = new JSZip();
                if(currentToolId === 'img-converter') {
                    const format = document.getElementById('formatSelect').value; let ext = format === "image/png" ? "png" : "jpg";
                    for(let file of selectedFiles) {
                        let blob = null;
                        if(file.name.toLowerCase().endsWith('.heic')) { const res = await heic2any({ blob: file, toType: format }); blob = Array.isArray(res) ? res[0] : res; } 
                        else { blob = await convertImage(file, format); }
                        zip.file(file.name.split('.')[0] + `_new.${ext}`, blob);
                    }
                    saveAs(await zip.generateAsync({type:"blob"}), "cevrilenler.zip");
                } else if(currentToolId === 'img-to-pdf') {
                    const { jsPDF } = window.jspdf; const doc = new jsPDF();
                    for(let i=0; i<selectedFiles.length; i++) {
                        const d = await readFileAsDataURL(selectedFiles[i]); const img = await getImageProps(d);
                        const ratio = Math.min(doc.internal.pageSize.getWidth()/img.width, doc.internal.pageSize.getHeight()/img.height);
                        if(i>0) doc.addPage(); doc.addImage(d, 'JPEG', 10, 10, img.width*ratio-20, img.height*ratio-20);
                    }
                    doc.save("resimler.pdf");
                } else if(currentToolId === 'pdf-to-img') {
                    for(let file of selectedFiles) {
                        const d = await readFileAsArrayBuffer(file); const pdf = await pdfjsLib.getDocument(d).promise;
                        for(let p=1; p<=pdf.numPages; p++) {
                            const page = await pdf.getPage(p); const vp = page.getViewport({scale:2});
                            const cvs = document.createElement('canvas'); cvs.width = vp.width; cvs.height = vp.height;
                            await page.render({canvasContext:cvs.getContext('2d'), viewport:vp}).promise;
                            zip.file(`${file.name}_${p}.jpg`, await new Promise(r=>cvs.toBlob(r,'image/jpeg')));
                        }
                    }
                    saveAs(await zip.generateAsync({type:"blob"}), "sayfalar.zip");
                } else if(currentToolId === 'pdf-merge') {
                    const { PDFDocument } = PDFLib; const merged = await PDFDocument.create();
                    for(let file of selectedFiles) {
                        const d = await readFileAsArrayBuffer(file); const pdf = await PDFDocument.load(d);
                        const pages = await merged.copyPages(pdf, pdf.getPageIndices()); pages.forEach(p => merged.addPage(p));
                    }
                    saveAs(new Blob([await merged.save()], {type:"application/pdf"}), "birlestirilmis.pdf");
                } else if(currentToolId === 'word-to-pdf') {
                    const ab = await readFileAsArrayBuffer(selectedFiles[0]); const res = await mammoth.convertToHtml({arrayBuffer: ab});
                    const { jsPDF } = window.jspdf; const doc = new jsPDF();
                    doc.html(`<div style="width:500px;font-size:12px;font-family:serif">${res.value}</div>`, {
                        callback: function(d){ d.save("dokuman.pdf"); }, x:10, y:10, width:190, windowWidth:650
                    });
                }
                status.innerText = "ƒ∞≈ülem Tamamlandƒ±! üéâ";
            } catch(e) { console.error(e); status.innerText = "Hata: " + e.message; }
            btn.disabled = false; btn.innerText = "ƒ∞≈ülemi Ba≈ülat";
        }

        function generateQR() {
            const txt = document.getElementById('qrText').value, container = document.getElementById('qrResult'); container.innerHTML = "";
            if(!txt) return; new QRCode(container, { text: txt, width: 128, height: 128 });
        }
        function generatePass() {
            const len = document.getElementById('passLen').value, sym = document.getElementById('incSym').checked, num = document.getElementById('incNum').checked;
            const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz" + (num?"0123456789":"") + (sym?"!@#$%^&*":"");
            let pass = ""; for(let i=0; i<len; i++) pass += chars.charAt(Math.floor(Math.random()*chars.length));
            document.getElementById('passResult').innerText = pass;
        }
        function analyzeText() {
            const txt = document.getElementById('textContent').value;
            document.getElementById('textStats').innerText = `Karakter: ${txt.length} | Kelime: ${txt.trim()===''?0:txt.trim().split(/\s+/).length}`;
        }
        function textCase(type) { const el = document.getElementById('textContent'); el.value = type==='upper' ? el.value.toUpperCase() : el.value.toLowerCase(); }
        function copyText(txt) { if(txt.includes('...')) return; navigator.clipboard.writeText(txt); alert("Kopyalandƒ±: " + txt); }

        function readFileAsDataURL(f) { return new Promise(r=>{const fr=new FileReader();fr.onload=e=>r(e.target.result);fr.readAsDataURL(f);}); }
        function readFileAsArrayBuffer(f) { return new Promise(r=>{const fr=new FileReader();fr.onload=e=>r(e.target.result);fr.readAsArrayBuffer(f);}); }
        function convertImage(f,t) { return new Promise(r=>{const fr=new FileReader();fr.onload=e=>{const i=new Image();i.src=e.target.result;i.onload=()=>{const c=document.createElement('canvas');c.width=i.width;c.height=i.height;c.getContext('2d').drawImage(i,0,0);c.toBlob(r,t,0.9);}};fr.readAsDataURL(f);}); }
        function getImageProps(s) { return new Promise(r=>{const i=new Image();i.onload=()=>r({width:i.width,height:i.height});i.src=s;}); }
    </script>
</body>
</html>